(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[24],{1245:function(e,t,n){"use strict";n.r(t);var r,a,i=n(306),o=n(310),c=n(0),d=n.n(c),l=n(22),s=n(794),u=n.n(s),j=n(511),b=n(1),m=function(e){var t=Object(l.f)(),n=Object(l.g)();return Object(b.jsxs)(i.a,{display:"grid",gridTemplateColumns:"auto auto auto auto auto auto",ml:.5,mr:.5,mb:2,children:[Object(b.jsx)(j.a,{onClick:function(){return t.push({pathname:"/projects/admin/locations",state:t.location.state})},color:"navigation",children:"locations"}),Object(b.jsx)(j.a,{disabled:n.pathname.startsWith("/projects/admin/items"),onClick:function(){return t.push({pathname:"/projects/admin/items",state:t.location.state})},color:"navigation",children:"items"}),Object(b.jsx)(j.a,{disabled:n.pathname.startsWith("/projects/admin/worksheets"),onClick:function(){return t.push({pathname:"/projects/admin/worksheets",state:t.location.state})},color:"navigation",children:"worksheets"}),Object(b.jsx)(j.a,{disabled:n.pathname.startsWith("/projects/admin/documents"),onClick:function(){return t.push({pathname:"/projects/admin/documents",state:t.location.state})},color:"navigation",children:"documents"}),Object(b.jsx)(j.a,{disabled:n.pathname.startsWith("/projects/admin/images"),onClick:function(){return t.push({pathname:"/projects/admin/images",state:t.location.state})},color:"navigation",children:"view images"}),Object(b.jsx)(j.a,{onClick:function(){return t.push({pathname:"/projects/admin/images",state:t.location.state})},color:"action",startIcon:Object(b.jsx)(u.a,{}),children:"Download Workbook"})]})},h=n(49),p=n(385),O=n(326),f=n(67),x=n(839),y=n(717),g=n(112),C=Object(f.d)(r||(r=Object(h.a)(["\n    query GetOrderWorksheets($id: Int!) {\n        worksheetWithValues(filter: { orderheaderId: { equalTo: $id } }) {\n            nodes {\n                activityCode\n                activityDescription\n                applied\n                dateComplete\n                id\n                itemNumber\n                locationReference\n                worksheetReference\n                week\n                year\n                periodNumber\n                qtyComplete\n                supervisorName\n                valueComplete\n                batchId\n                applicationNumber\n            }\n        }\n    }\n"]))),v=[{headerName:"Worksheet Ref",field:"worksheetReference",cellStyle:{"text-align":"left"}},{headerName:"Batch Ref",field:"batchId",cellStyle:{"text-align":"left"}},{headerName:"Location",field:"locationReference",cellStyle:{"text-align":"left"}},{headerName:"Item Number",field:"itemNumber",cellStyle:{"text-align":"left"},sort:"asc"},{headerName:"Activity Code",field:"activityCode",cellStyle:{"text-align":"left"}},{headerName:"Activity Description",field:"activityDescription",cellStyle:{"text-align":"left"}},{headerName:"Work Done Date",field:"dateComplete",type:"dateColumn",valueFormatter:O.c,cellStyle:{"text-align":"left"}},{headerName:"Year",field:"year",cellStyle:{"text-align":"left"}},{headerName:"Week Number",field:"week",cellStyle:{"text-align":"left"}},{headerName:"Supervisor Name",field:"supervisorName",cellStyle:{"text-align":"left"}},{headerName:"Qty Complete",field:"qtyComplete",type:"numericColumn",valueFormatter:O.e},{headerName:"Value Complete",field:"valueComplete",type:"numericColumn",valueFormatter:O.e},{headerName:"Applied",field:"applied",type:"rightAligned",valueFormatter:function(e){return e.value?"Yes":"No"}},{headerName:"App Number",field:"applicationNumber",type:"numericColumn"},{headerName:"Reporting Period",field:"periodNumber",type:"numericColumn"}],V={filter:!0,sortable:!0,resizable:!0,flex:!0},I={dateColumn:{filter:"agDateColumnFilter"}},k=function(){var e=Object(x.a)(g.b).selectedOrder,t=Object(y.b)(C,{variables:{id:e.id}}),n=t.loading,r=t.data,a={columnDefs:v,defaultColDef:V,columnTypes:I,pagination:!0,paginationPageSize:30,domLayout:"autoHeight",rowSelection:"single",animateRows:!0,rowData:null===r||void 0===r?void 0:r.worksheetWithValues.nodes,onGridReady:function(e){e.api.sizeColumnsToFit()},onGridSizeChanged:function(e){return e.api.sizeColumnsToFit()}};return n?Object(b.jsx)(o.a,{}):Object(b.jsx)("div",{style:{marginLeft:5,marginRight:5,marginTop:25},children:Object(b.jsx)(p.AgGridReact,{gridOptions:a,reactUi:!1,className:"ag-theme-custom-react"})})},N=n(506),w=n(719),T=function(){var e=Object(x.a)(g.b).selectedLocation,t=Object(y.b)(N.a,{variables:{sitelocationId:e.id},fetchPolicy:"cache-and-network"}),n=t.data,r=t.loading;return r?Object(b.jsx)(o.a,{}):Object(b.jsx)(w.a,{data:n&&n,loading:r})},W=n(24),D=n(16),A=n(789),S=n(705),q=n(830),R=Object(f.d)(a||(a=Object(h.a)(["\n\tmutation CreateBulkWorksheets(\n\t\t$input: WorksheetCreateBulkWorksheetsInput!\n\t\t$orderId: Int!\n\t) {\n\t\tworksheetCreateBulkWorksheets(input: $input) {\n\t\t\tquery {\n\t\t\t\torderheaderWithValueById(id: $orderId) {\n\t\t\t\t\tarea\n\t\t\t\t\taverageItemValue\n\t\t\t\t\taverageLocationValue\n\t\t\t\t\tid\n\t\t\t\t\titemCount\n\t\t\t\t\titemCountBoq\n\t\t\t\t\titemCountVarn\n\t\t\t\t\titemsComplete\n\t\t\t\t\titemsCompleteBoq\n\t\t\t\t\titemsCompleteVarn\n\t\t\t\t\tlocationCount\n\t\t\t\t\tlocationsComplete\n\t\t\t\t\tstatusDescription\n\t\t\t\t\torderNumber\n\t\t\t\t\torderValueLabour\n\t\t\t\t\torderValueMaterials\n\t\t\t\t\torderValueOther\n\t\t\t\t\torderValueTotal\n\t\t\t\t\torderValueTotalApplied\n\t\t\t\t\torderValueTotalBoq\n\t\t\t\t\torderValueTotalComplete\n\t\t\t\t\torderValueTotalVarn\n\t\t\t\t\tprojectTitle\n\t\t\t\t\tworkType\n\t\t\t\t\tissuedDate\n\t\t\t\t\tdocumentCount\n\t\t\t\t\timageCount\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n"]))),E=n(505),L=n(338),P=n(491),B=n.n(P),G=["sx"];function F(e){var t=e.sx,n=Object(L.a)(e,G);return Object(b.jsx)(i.a,Object(W.a)({sx:Object(W.a)({pt:1,pb:1,mt:1,mb:1,width:800},t)},n))}var $=function(e){var t=Object(x.a)(g.b).selectedLocation;return Object(b.jsxs)(i.a,{sx:{display:"flex",mb:2,justifyContent:"flex-start"},children:[Object(b.jsx)(F,{children:Object(b.jsx)(j.a,{onClick:function(){return e.process(t)},color:"create",fullWidth:!0,startIcon:Object(b.jsx)(B.a,{}),children:"save changes"})}),Object(b.jsx)(F,{})]})},M=n(382),z=Object(c.forwardRef)((function(e,t){M.DateTime.now().toISODate();var n=Object(c.useRef)(),r=Object(c.useState)(""),a=Object(D.a)(r,2),i=a[0],o=a[1],d=e.lastRowDate,l=e.currentPeriod;return Object(c.useEffect)((function(){o(d?d.data.date:l.weekEndingDate),n.current.focus(),n.current.select()}),[d,l]),Object(c.useImperativeHandle)(t,(function(){return{getValue:function(){return i}}})),Object(b.jsx)("input",{type:"date",className:"ag-input-field-input ag-text-field-input",ref:n,onChange:function(e){o(e.target.value.toLocaleString())},value:i})})),H=Object(c.forwardRef)((function(e,t){var n=Object(c.useRef)(),r=e.data.qtyOs,a=Object(c.useState)(r),i=Object(D.a)(a,2),o=i[0],d=i[1],l=Object(c.useCallback)((function(e){Number(e.target.value)>Number(r)?(alert("Qty Done Cannot Exceed Qty Outstanding"),d(o)):d(e.target.value)}),[o,r]),s=Object(c.useCallback)((function(e){Object(O.i)(e.nativeEvent)||e.preventDefault()}),[]);return Object(c.useImperativeHandle)(t,(function(){return{getValue:function(){return o},afterGuiAttached:function(){n.current.focus(),n.current.select()}}})),Object(b.jsx)("input",{className:"ag-input-field-input ag-text-field-input",ref:n,onChange:l,value:o,onKeyPress:s})})),U=n(1251),_=n(763),Q=Object(c.forwardRef)((function(e,t){var n=Object(c.useState)(""),r=Object(D.a)(n,2),a=r[0],i=r[1],o=Object(c.useState)(!1),l=Object(D.a)(o,2),s=l[0],u=l[1],j=Object(c.useRef)();function m(e){"ArrowDown"===e.key&&u(!0)}d.a.useEffect((function(){return document.addEventListener("keydown",m),function(){document.removeEventListener("keydown",m)}}));return Object(c.useImperativeHandle)(t,(function(){return{getValue:function(){return a.displayName},afterGuiAttached:function(){if(e.lastRowSupervisor){var t=e.options.filter((function(t){return t.displayName===e.lastRowSupervisor.data.supervisor}))[0];i(t)}else i(e.options[0])}}})),Object(b.jsx)(U.a,{value:a,onChange:function(e,t){i(e.target.value)},ref:j,fullWidth:!0,open:s,style:{height:30},displayEmpty:!0,renderValue:function(){return a.displayName},onClose:function(){u(!1)},onOpen:function(){u(!0)},children:e.options.map((function(e){return Object(b.jsx)(_.a,{value:e,children:e.displayName},e.id)}))})})),Y=function(e){var t=e.data,n=e.supervisors,r=e.currentPeriod,a={columnDefs:d.a.useMemo((function(){return[{headerName:"Item Ref",field:"itemNumber"},{headerName:"Item Type",field:"typeShort"},{headerName:"Activity Code",field:"activityCode"},{headerName:"Activity Description",field:"activityDescription"},{headerName:"Qty Ordered",field:"qtyOrdered",type:"numericColumn",valueFormatter:O.e},{headerName:"Qty Os",field:"qtyOs",valueFormatter:O.e,type:"numericColumn"},{headerName:"Value Os",field:"valueOs",valueFormatter:O.e,type:"numericColumn"},{headerName:"Qty Done",colId:"qtyDone",field:"qtyDone",type:"numericColumn",editable:!0,cellEditorFramework:H,valueFormatter:O.e},{headerName:"Supervisor",colId:"supervisor",field:"supervisor",editable:!0,cellEditorFramework:Q,width:150,cellEditorParams:function(e){return{options:n,defaults:t,lastRowSupervisor:e.api.getRowNode(e.rowIndex-1)}}},{headerName:"Date Complete",field:"date",editable:!0,cellEditorFramework:z,cellEditorParams:function(e){return{lastRowDate:e.api.getRowNode(e.rowIndex-1),currentPeriod:r}},valueFormatter:function(e){return e.value&&e.value.split("-").reverse().join("/")}},{headerName:"Value Complete",valueGetter:function(e){return e.data.qtyDone*e.data.valueOs/e.data.qtyOs},valueFormatter:O.e,type:"numericColumn"}]}),[r,t,n]),defaultColDef:{filter:!1,sortable:!1,resizable:!0},pagination:!1,singleClickEdit:!0};return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{className:"ag-theme-custom-react",style:{height:850},children:Object(b.jsx)(p.AgGridReact,{gridOptions:a,rowData:t,onFirstDataRendered:function(e){e.api.startEditingCell({rowIndex:0,colKey:"qtyDone"}),e.api.sizeColumnsToFit()},onGridSizeChanged:function(e){return e.api.sizeColumnsToFit()},reactUi:!1})})})},J=function(){var e=Object(l.f)(),t=d.a.useRef(Object(q.a)()),n=Object(g.b)().selectedLocation,r=Object(g.b)().selectedOrder,a=d.a.useState([]),i=Object(D.a)(a,2),c=i[0],s=i[1],u=Object(y.b)(N.b,{variables:{id:Number(n.id)},onCompleted:function(e){return s(e.orderdetailWithValues.nodes.map((function(e){return Object(W.a)(Object(W.a)({},e),{},{qtyDone:0})})))}}).loading,j=Object(y.b)(E.a),m=j.data,h=j.loading,p=Object(y.b)(E.b,{fetchPolicy:"cache-and-network"}),f=p.data,x=p.loading,C=Object(A.a)(R,{refetchQueries:[{query:N.e,variables:{id:n.id}}],awaitRefetchQueries:!0,onCompleted:function(){e.push({pathname:"/projects/admin/locations",state:r.id})}}),v=Object(D.a)(C,1)[0];return u||h||x?Object(b.jsx)(o.a,{}):Object(b.jsxs)("div",{children:[Object(b.jsx)($,{process:function(){var e=c.filter((function(e){return e.qtyDone>0})),n=e.map((function(e){var n=e.date,r=e.id,a=e.qtyDone,i=e.supervisor,o=e.sitelocationId,c=e.orderheaderId,d=e.unitPayableTotal;return{supervisorId:m.supervisors.nodes.filter((function(e){return e.displayName===i})).map((function(e){return e.id}))[0],periodNumberId:f.periods.nodes[0].id,dateComplete:n,qtyComplete:a,orderdetailId:r,batchId:t.current,orderheaderId:c,sitelocationId:o,valueComplete:a*Number(d)}}));if(n.map((function(e){return-1!==Object.values(e).findIndex((function(e){return null==e||""===e}))})).includes(!0))Object(S.confirmAlert)({customUI:function(e){var t=e.onClose;return Object(b.jsxs)("div",{className:"custom-ui",children:[Object(b.jsx)("h1",{children:"Submission Contains Errors!"}),Object(b.jsx)("p",{children:"Please Correct Them And Try Again"}),Object(b.jsx)("button",{onClick:function(){t()},children:"Close"})]})}});else{var a=Object(O.g)(e.map((function(e){return e.valueOs/e.qtyOs*e.qtyDone})).reduce((function(e,t){return e+t}),0));Object(S.confirmAlert)({customUI:function(e){var t=e.onClose;return Object(b.jsxs)("div",{className:"custom-ui",children:[Object(b.jsx)("h1",{children:"Confirm Submission"}),Object(b.jsx)("p",{children:"Submission Value Is: ".concat(a)}),Object(b.jsx)("button",{onClick:function(){return v({variables:{input:{worksheets:n},orderId:r.id}}).then((function(){return t()}))},children:"SUBMIT"}),Object(b.jsx)("button",{onClick:function(){t()},children:"CANCEL"})]})}})}}}),Object(b.jsx)(Y,{data:c,supervisors:m.supervisors.nodes,currentPeriod:f.periods.nodes[0]})]})},K=n(795),X=Object(c.lazy)((function(){return Promise.all([n.e(1),n.e(3),n.e(5),n.e(18),n.e(23)]).then(n.bind(null,1254))})),Z=Object(c.lazy)((function(){return Promise.all([n.e(1),n.e(3),n.e(4),n.e(5),n.e(19)]).then(n.bind(null,1250))})),ee=Object(c.lazy)((function(){return n.e(31).then(n.bind(null,1240))})),te=Object(c.lazy)((function(){return Promise.all([n.e(3),n.e(5),n.e(21),n.e(22)]).then(n.bind(null,1256))}));t.default=function(){return Object(b.jsxs)(i.a,{m:2,children:[Object(b.jsx)("br",{}),Object(b.jsx)(m,{}),Object(b.jsx)(K.b,{}),Object(b.jsx)("hr",{}),Object(b.jsx)(c.Suspense,{fallback:Object(b.jsx)(o.a,{}),children:Object(b.jsxs)(l.c,{children:[Object(b.jsx)(l.a,{path:"/projects/admin/locations",exact:!0,children:Object(b.jsx)(X,{})}),Object(b.jsx)(l.a,{path:"/projects/admin/progress/",exact:!0,children:Object(b.jsx)(J,{})}),Object(b.jsx)(l.a,{path:"/projects/admin/items",exact:!0,children:Object(b.jsx)(Z,{})}),Object(b.jsx)(l.a,{path:"/projects/admin/images",exact:!0,children:Object(b.jsx)(ee,{})}),Object(b.jsx)(l.a,{path:"/projects/admin/documents",exact:!0,children:Object(b.jsx)(te,{})}),Object(b.jsx)(l.a,{path:"/projects/admin/worksheets",exact:!0,children:Object(b.jsx)(k,{})}),Object(b.jsx)(l.a,{path:"/projects/admin/locations/images",exact:!0,children:Object(b.jsx)(T,{})})]})})]})}},326:function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return j})),n.d(t,"c",(function(){return b})),n.d(t,"b",(function(){return m})),n.d(t,"j",(function(){return h})),n.d(t,"k",(function(){return p})),n.d(t,"i",(function(){return O})),n.d(t,"h",(function(){return f})),n.d(t,"a",(function(){return y})),n.d(t,"l",(function(){return g}));var r=n(11),a=n(16),i=n(31),o=n(382),c=n(419),d=n.n(c),l=function(e){return d()(e.value).format("0,0")},s=function(e){return d()(e.value).format("0,0.00")},u=function(e){return d()(e).format("0,0")},j=function(e){return d()(e).format("0,0.00")},b=function(e){return o.DateTime.fromISO(e.value).toFormat("dd/LL/y")},m=function(e){return o.DateTime.fromISO(e).toFormat("dd/LL/y")},h=function(e,t){return[].concat(Object(i.a)(e),Object(i.a)(t)).filter((function(n){return!e.includes(n)&&t.includes(n)}))},p=function(e,t){return[].concat(Object(i.a)(e),Object(i.a)(t)).filter((function(n){return e.includes(n)&&!t.includes(n)}))},O=function(e){return"1"===e.key||"2"===e.key||"3"===e.key||"4"===e.key||"5"===e.key||"6"===e.key||"7"===e.key||"8"===e.key||"9"===e.key||"0"===e.key||"."===e.key},f=function(e){return e.split(" ").map((function(e){return e[0]})).join("")},x=function e(t){return function(n){return Object.fromEntries(Object.entries(n).map((function(n){var r=Object(a.a)(n,2),i=r[0],o=r[1];return[t(i),Array.isArray(o)?o.map(e(t)):"object"==typeof o?e(t)(o):o]})))}};x((function(e){return e.replace(/_(.)/g,(function(e,t){return t.toUpperCase()}))})),x((function(e){return e.replace(/_(.)/g,(function(e,t){return t.toLowerCase()}))}));function y(e,t){return 0===t||isNaN(t)?null:e/t}function g(e,t){var n=Object.keys(e).map((function(n){var a=t[n]||n;return Object(r.a)({},a,e[n])}));return Object.assign.apply(Object,[{}].concat(Object(i.a)(n)))}},505:function(e,t,n){"use strict";n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return x})),n.d(t,"f",(function(){return y})),n.d(t,"g",(function(){return g})),n.d(t,"h",(function(){return C})),n.d(t,"e",(function(){return v})),n.d(t,"d",(function(){return V}));var r,a,i,o,c,d,l,s,u,j,b,m,h=n(49),p=n(67),O=Object(p.d)(r||(r=Object(h.a)(["\n    query GetAllSupervisors {\n        supervisors {\n            nodes {\n                displayName\n                id\n            }\n        }\n    }\n"]))),f=Object(p.d)(a||(a=Object(h.a)(["\n    query GetCurrentPeriod {\n        periods(condition: { current: true }) {\n            nodes {\n                current\n                id\n                periodNumber\n                week\n                weekCommencingDate\n                weekEndingDate\n                year\n            }\n        }\n    }\n"]))),x=(Object(p.d)(i||(i=Object(h.a)(["\n    query getAreas {\n        areas {\n            nodes {\n                id\n                description\n            }\n        }\n    }\n"]))),Object(p.d)(o||(o=Object(h.a)(["\n    query getWorktypes {\n        worktypes {\n            nodes {\n                id\n                description\n            }\n        }\n    }\n"]))),Object(p.d)(c||(c=Object(h.a)(["\n    query getOrderheaderStatus {\n        orderheaderStatuses {\n            nodes {\n                id\n                statusDescription\n            }\n        }\n    }\n"]))),Object(p.d)(d||(d=Object(h.a)(["\n    query GetOrderLocations($id: Int!) {\n        sitelocationWithValues(filter: { orderheaderId: { equalTo: $id } }) {\n            nodes {\n                complete\n                id\n                itemCount\n                itemsComplete\n                orderValue\n                orderheaderId\n                reference\n                valueApplied\n                valueComplete\n                worksheetReference\n                imageCount\n            }\n            totalCount\n        }\n    }\n"]))),Object(p.d)(l||(l=Object(h.a)(["\n    query GetItemTypes {\n        itemTypes {\n            nodes {\n                id\n                typeLong\n                typeShort\n            }\n        }\n    }\n"])))),y=Object(p.d)(s||(s=Object(h.a)(["\n    query GetRatesetHeaders {\n        ratesetHeaders {\n            nodes {\n                id\n                description\n            }\n        }\n    }\n"]))),g=Object(p.d)(u||(u=Object(h.a)(["\n    query GetRatesetPrices($id: Int!) {\n        pricesWithUplifts(\n            condition: { ratesetHeaderId: $id }\n            orderBy: ACTIVITY_CODE_ASC\n        ) {\n            nodes {\n                activityCode\n                activityDescription\n                id\n                ratesetHeaderId\n            }\n            totalCount\n        }\n    }\n"]))),C=Object(p.d)(j||(j=Object(h.a)(["\n    query GetSupervisorValuesForSingleOrderheader($id: Int!) {\n        orderheader(id: $id) {\n            supervisorsByWorksheetOrderheaderIdAndSupervisorId {\n                nodes {\n                    displayName\n                    fullName\n                    worksheets(condition: { orderheaderId: $id }) {\n                        groupedAggregates(groupBy: SUPERVISOR_ID) {\n                            sum {\n                                valueComplete\n                            }\n                        }\n                    }\n                }\n            }\n            projectTitle\n        }\n    }\n"]))),v=Object(p.d)(b||(b=Object(h.a)(['\n    query GetPeriodBasics {\n        periodWithValues(filter: { worksValueCurrent: { greaterThan: "0" } }) {\n            nodes {\n                id\n                periodNumber\n            }\n        }\n    }\n']))),V=Object(p.d)(m||(m=Object(h.a)(["\n    query GetPeriodsWithValues($id: Int!) {\n        period(id: $id) {\n            periodValuesByAreas {\n                nodes {\n                    areaDescription\n                    areaId\n                    periodId\n                    periodNumber\n                    thisPeriodValue\n                    itemCount\n                    locationCount\n                    orderCount\n                    cumulativeValue\n                    prevCumulativeValue\n                }\n            }\n            worksValue\n            periodValuesByOrderheaders(orderBy: AREA_ID_ASC) {\n                nodes {\n                    areaDescription\n                    areaId\n                    orderId\n                    orderNumber\n                    projectTitle\n                    periodNumber\n                    periodId\n                    valueComplete\n                    worktypeDescription\n                    worktypeId\n                    orderCount\n                    itemCount\n                    locationCount\n                }\n            }\n            periodValuesBySupervisors(orderBy: VALUE_COMPLETE_DESC) {\n                nodes {\n                    periodId\n                    periodNumber\n                    supervisorId\n                    supervisorName\n                    displayName\n                    valueComplete\n                    itemCount\n                    locationCount\n                    orderCount\n                }\n            }\n            periodValuesByActivities {\n                nodes {\n                    activityCode\n                    activityDescription\n                    periodId\n                    periodNumber\n                    valueComplete\n                }\n            }\n            periodWithValueById {\n                closed\n                current\n                id\n                periodNumber\n                week\n                weekCommencingDate\n                weekEndingDate\n                worksValueClosed\n                worksValueCurrent\n                year\n                orderCount\n                itemCount\n                locationCount\n                areaCount\n            }\n        }\n    }\n"])))},506:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"c",(function(){return j})),n.d(t,"d",(function(){return b})),n.d(t,"a",(function(){return m}));var r,a,i,o,c,d=n(49),l=n(67),s=Object(l.d)(r||(r=Object(d.a)(["\n\tquery GetIncompleteLocationItems($id: Int!) {\n\t\torderdetailWithValues(\n\t\t\tfilter: { complete: { equalTo: false }, sitelocationId: { equalTo: $id } }\n\t\t) {\n\t\t\tnodes {\n\t\t\t\tactivityCode\n\t\t\t\tactivityDescription\n\t\t\t\titemNumber\n\t\t\t\ttypeShort\n\t\t\t\tvalueOs\n\t\t\t\tqtyOs\n\t\t\t\tqtyOrdered\n\t\t\t\tid\n\t\t\t\torderheaderId\n\t\t\t\tunitPayableTotal\n\t\t\t\tsitelocationId\n\t\t\t}\n\t\t}\n\t}\n"]))),u=Object(l.d)(a||(a=Object(d.a)(["\n\tquery GetSingleLocation($id: Int!) {\n\t\tsitelocationWithValueById(id: $id) {\n\t\t\tcomplete\n\t\t\tid\n\t\t\titemCount\n\t\t\titemsComplete\n\t\t\torderValue\n\t\t\torderheaderId\n\t\t\treference\n\t\t\tvalueApplied\n\t\t\tvalueComplete\n\t\t\tworksheetReference\n\t\t\timageCount\n\t\t}\n\t}\n"]))),j=Object(l.d)(i||(i=Object(d.a)(["\n\tquery GetOrderLocations($id: Int!) {\n\t\tsitelocationWithValues(filter: { orderheaderId: { equalTo: $id } }) {\n\t\t\tnodes {\n\t\t\t\tcomplete\n\t\t\t\tid\n\t\t\t\titemCount\n\t\t\t\titemsComplete\n\t\t\t\torderValue\n\t\t\t\torderheaderId\n\t\t\t\treference\n\t\t\t\tvalueApplied\n\t\t\t\tvalueComplete\n\t\t\t\tworksheetReference\n\t\t\t\timageCount\n\t\t\t}\n\t\t\ttotalCount\n\t\t}\n\t}\n"]))),b=Object(l.d)(o||(o=Object(d.a)(['\n\tquery GetOrderLocationsWithImages($id: Int!) {\n\t\tsitelocationWithValues(\n\t\t\tcondition: { orderheaderId: $id }\n\t\t\tfilter: { imageCount: { greaterThan: "0" } }\n\t\t) {\n\t\t\tnodes {\n\t\t\t\tid\n\t\t\t\timageCount\n\t\t\t\treference\n\t\t\t\tworksheetReference\n\t\t\t\torderValue\n\t\t\t\tvalueComplete\n\t\t\t\tvalueApplied\n\t\t\t\tsitelocationById {\n\t\t\t\t\timageDetails {\n\t\t\t\t\t\tnodes {\n\t\t\t\t\t\t\tsitelocationId\n\t\t\t\t\t\t\tdateTakenManual\n\t\t\t\t\t\t\texifDate\n\t\t\t\t\t\t\texifGps\n\t\t\t\t\t\t\theaderImageFile\n\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\tlongName\n\t\t\t\t\t\t\tshortName\n\t\t\t\t\t\t}\n\t\t\t\t\t\tgroupedAggregates(groupBy: SHORT_NAME) {\n\t\t\t\t\t\t\tkeys\n\t\t\t\t\t\t\tdistinctCount {\n\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n']))),m=Object(l.d)(c||(c=Object(d.a)(["\n\tquery GetLocationImages($sitelocationId: Int!) {\n\t\timageDetails(filter: { sitelocationId: { equalTo: $sitelocationId } }) {\n\t\t\tnodes {\n\t\t\t\tdateTakenManual\n\t\t\t\texifDate\n\t\t\t\theaderImageFile\n\t\t\t\tid\n\t\t\t\tlongName\n\t\t\t\tshortName\n\t\t\t\tsitelocationId\n\t\t\t\tworksheetReference\n\t\t\t}\n\t\t}\n\t}\n"])))},719:function(e,t,n){"use strict";var r=n(732),a=n.n(r),i=n(326),o=n(1);t.a=function(e){var t,n,r=null===(t=e.data)||void 0===t||null===(n=t.imageDetails)||void 0===n?void 0:n.nodes.map((function(t){return{original:"/images/resized/".concat(t.headerImageFile.id),thumbnail:"/images/thumbnails/".concat(t.headerImageFile.id),originalHeight:e.height?e.height:800,description:Object(o.jsxs)("div",{style:{textAlign:"left"},children:[Object(o.jsxs)("p",{children:["WORKSHEET: ",t.worksheetReference]}),Object(o.jsx)("p",{children:t.longName}),Object(o.jsx)("p",{children:t.exifDate?Object(i.b)(t.exifDate):Object(i.b)(t.dateTakenManual)})]})}}));return Object(o.jsx)("div",{style:{marginTop:"50px"},children:r.length>0?Object(o.jsx)(a.a,{items:r,thumbnailPosition:"bottom",onClick:function(e){return window.open(e.target.currentSrc.replace("resized","original"),"_blank")},lazyLoad:!0,showThumbnails:!0}):Object(o.jsx)("div",{className:"no-data-message",children:"NO IMAGES ARE AVAILABLE"})})}},795:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r,a=n(24),i=n(338),o=n(49),c=(n(0),n(67)),d=n(839),l=n(717),s=n(112),u=n(306),j=n(310),b=n(109),m=n(326),h=n(1),p=["sx"],O=Object(c.d)(r||(r=Object(o.a)(["\n    query GetSingleOrderheader($id: Int!) {\n        orderheaderWithValue(id: $id) {\n            area\n            averageItemValue\n            averageLocationValue\n            id\n            itemCount\n            itemCountBoq\n            itemCountVarn\n            itemsComplete\n            itemsCompleteBoq\n            itemsCompleteVarn\n            locationCount\n            locationsComplete\n            statusDescription\n            orderNumber\n            orderValueLabour\n            orderValueMaterials\n            orderValueOther\n            orderValueTotal\n            orderValueTotalApplied\n            orderValueTotalBoq\n            orderValueTotalComplete\n            orderValueTotalVarn\n            projectTitle\n            workType\n            issuedDate\n            documentCount\n            imageCount\n        }\n    }\n"])));function f(e){e.sx;var t=Object(i.a)(e,p);return Object(h.jsx)(u.a,Object(a.a)({border:1,flexGrow:1,bgcolor:"#b4cce4",m:.5,p:.5,textAlign:"center",borderRadius:3},t))}t.b=function(){var e=Object(d.a)(s.b).selectedOrder,t=Object(l.b)(O,{variables:{id:e.id}}),n=t.data;return t.loading?Object(h.jsx)(j.a,{}):Object(h.jsxs)(u.a,{display:"flex",flexWrap:"wrap",justifyContent:"space-between",ml:.5,mr:.5,children:[Object(h.jsxs)(f,{children:[Object(h.jsx)(b.a,{fontWeight:"bold",children:"PROJECT"}),Object(h.jsx)(b.a,{children:n.orderheaderWithValue.projectTitle.substring(0,25)+"..."})]}),Object(h.jsxs)(f,{children:[Object(h.jsx)(b.a,{fontWeight:"bold",children:"ORDER NO"}),Object(h.jsx)(b.a,{children:n.orderheaderWithValue.orderNumber})]}),Object(h.jsxs)(f,{children:[Object(h.jsx)(b.a,{fontWeight:"bold",children:"STATUS"}),Object(h.jsxs)(b.a,{children:[n.orderheaderWithValue.statusDescription," "]})]}),Object(h.jsxs)(f,{children:[Object(h.jsx)(b.a,{fontWeight:"bold",children:"AREA"}),Object(h.jsx)(b.a,{children:n.orderheaderWithValue.area})]}),Object(h.jsxs)(f,{children:[Object(h.jsx)(b.a,{fontWeight:"bold",children:"LABOUR"}),Object(h.jsx)(b.a,{children:Object(m.f)(n.orderheaderWithValue.orderValueLabour)})]}),Object(h.jsxs)(f,{children:[Object(h.jsx)(b.a,{fontWeight:"bold",children:"MATERIALS"}),Object(h.jsx)(b.a,{children:Object(m.f)(n.orderheaderWithValue.orderValueMaterials)})]}),Object(h.jsxs)(f,{children:[Object(h.jsx)(b.a,{fontWeight:"bold",children:"OTHER"}),Object(h.jsx)(b.a,{children:Object(m.f)(n.orderheaderWithValue.orderValueOther)})]}),Object(h.jsxs)(f,{children:[Object(h.jsx)(b.a,{fontWeight:"bold",children:"TOTAL"}),Object(h.jsx)(b.a,{children:Object(m.f)(n.orderheaderWithValue.orderValueTotal)})]}),Object(h.jsxs)(f,{children:[Object(h.jsx)(b.a,{fontWeight:"bold",children:"COMPLETE"}),Object(h.jsx)(b.a,{children:Object(m.f)(n.orderheaderWithValue.orderValueTotalComplete)})]}),Object(h.jsxs)(f,{children:[Object(h.jsx)(b.a,{fontWeight:"bold",children:"TO DO"}),Object(h.jsx)(b.a,{children:Object(m.f)(n.orderheaderWithValue.orderValueTotal-n.orderheaderWithValue.orderValueTotalComplete)})]}),Object(h.jsxs)(f,{children:[Object(h.jsx)(b.a,{fontWeight:"bold",children:"APPLIED"}),Object(h.jsx)(b.a,{children:Object(m.f)(n.orderheaderWithValue.orderValueTotalApplied)})]}),Object(h.jsxs)(f,{children:[Object(h.jsx)(b.a,{fontWeight:"bold",children:"TO APPLY"}),Object(h.jsx)(b.a,{children:Object(m.f)(n.orderheaderWithValue.orderValueTotalComplete-n.orderheaderWithValue.orderValueTotalApplied)})]}),Object(h.jsxs)(f,{children:[Object(h.jsx)(b.a,{children:"BOQ VAL"}),Object(h.jsx)(b.a,{children:Object(m.f)(n.orderheaderWithValue.orderValueTotalBoq)})]}),Object(h.jsxs)(f,{children:[Object(h.jsx)(b.a,{fontWeight:"bold",children:"VARN VAL"}),Object(h.jsx)(b.a,{children:Object(m.f)(n.orderheaderWithValue.orderValueTotalVarn)})]}),Object(h.jsxs)(f,{children:[Object(h.jsx)(b.a,{fontWeight:"bold",children:"LOCATIONS"}),Object(h.jsx)(b.a,{children:Object(m.f)(n.orderheaderWithValue.locationCount)})]}),Object(h.jsxs)(f,{children:[Object(h.jsx)(b.a,{fontWeight:"bold",children:"COMPLETE"}),Object(h.jsx)(b.a,{children:Object(m.f)(n.orderheaderWithValue.locationsComplete)})]}),Object(h.jsxs)(f,{children:[Object(h.jsx)(b.a,{fontWeight:"bold",children:"ITEMS"}),Object(h.jsx)(b.a,{children:Object(m.f)(n.orderheaderWithValue.itemCount)})]}),Object(h.jsxs)(f,{children:[Object(h.jsx)(b.a,{fontWeight:"bold",children:"COMPLETE"}),Object(h.jsx)(b.a,{children:Object(m.f)(n.orderheaderWithValue.itemsComplete)})]}),Object(h.jsxs)(f,{children:[Object(h.jsx)(b.a,{fontWeight:"bold",children:"DOCS"}),Object(h.jsx)(b.a,{children:Object(m.f)(n.orderheaderWithValue.documentCount)})]}),Object(h.jsxs)(f,{children:[Object(h.jsx)(b.a,{fontWeight:"bold",children:"IMAGES"}),Object(h.jsx)(b.a,{children:Object(m.f)(n.orderheaderWithValue.imageCount)})]})]})}}}]);
//# sourceMappingURL=24.c2e3a218.chunk.js.map