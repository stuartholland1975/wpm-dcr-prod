(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[23],{1247:function(e,t,n){"use strict";n.r(t);var r,a=n(0),o=n.n(a),i=n(306),c=n(22),d=n(794),l=n.n(d),s=n(510),u=n(1),b=function(e){var t=Object(c.f)(),n=Object(c.g)();return Object(u.jsxs)(i.a,{display:"grid",gridTemplateColumns:"auto auto auto auto auto auto",ml:.5,mr:.5,mb:2,children:[Object(u.jsx)(s.a,{disabled:n.pathname.startsWith("/projects/admin/locations"),onClick:function(){return t.push({pathname:"/projects/admin/locations",state:t.location.state})},color:"navigation",children:"locations"}),Object(u.jsx)(s.a,{disabled:n.pathname.startsWith("/projects/admin/items"),onClick:function(){return t.push({pathname:"/projects/admin/items",state:t.location.state})},color:"navigation",children:"items"}),Object(u.jsx)(s.a,{disabled:n.pathname.startsWith("/projects/admin/worksheets"),onClick:function(){return t.push({pathname:"/projects/admin/worksheets",state:t.location.state})},color:"navigation",children:"worksheets"}),Object(u.jsx)(s.a,{disabled:n.pathname.startsWith("/projects/admin/documents"),onClick:function(){return t.push({pathname:"/projects/admin/documents",state:t.location.state})},color:"navigation",children:"documents"}),Object(u.jsx)(s.a,{disabled:n.pathname.startsWith("/projects/admin/images"),onClick:function(){return t.push({pathname:"/projects/admin/images",state:t.location.state})},color:"navigation",children:"view images"}),Object(u.jsx)(s.a,{onClick:function(){return t.push({pathname:"/projects/admin/images",state:t.location.state})},color:"action",startIcon:Object(u.jsx)(l.a,{}),children:"Download Workbook"})]})},j=n(795),p=n(310),m=n(24),f=n(16),h=n(717),O=n(789),v=n(705),y=n(830),g=n(112),C=n(326),x=n(49),V=n(67),I=Object(V.d)(r||(r=Object(x.a)(["\n\tmutation CreateBulkWorksheets(\n\t\t$input: WorksheetCreateBulkWorksheetsInput!\n\t\t$orderId: Int!\n\t) {\n\t\tworksheetCreateBulkWorksheets(input: $input) {\n\t\t\tquery {\n\t\t\t\torderheaderWithValueById(id: $orderId) {\n\t\t\t\t\tarea\n\t\t\t\t\taverageItemValue\n\t\t\t\t\taverageLocationValue\n\t\t\t\t\tid\n\t\t\t\t\titemCount\n\t\t\t\t\titemCountBoq\n\t\t\t\t\titemCountVarn\n\t\t\t\t\titemsComplete\n\t\t\t\t\titemsCompleteBoq\n\t\t\t\t\titemsCompleteVarn\n\t\t\t\t\tlocationCount\n\t\t\t\t\tlocationsComplete\n\t\t\t\t\tstatusDescription\n\t\t\t\t\torderNumber\n\t\t\t\t\torderValueLabour\n\t\t\t\t\torderValueMaterials\n\t\t\t\t\torderValueOther\n\t\t\t\t\torderValueTotal\n\t\t\t\t\torderValueTotalApplied\n\t\t\t\t\torderValueTotalBoq\n\t\t\t\t\torderValueTotalComplete\n\t\t\t\t\torderValueTotalVarn\n\t\t\t\t\tprojectTitle\n\t\t\t\t\tworkType\n\t\t\t\t\tissuedDate\n\t\t\t\t\tdocumentCount\n\t\t\t\t\timageCount\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n"]))),k=n(703),N=n(505),w=n(338),W=n(839),T=n(491),S=n.n(T),D=["sx"];function A(e){var t=e.sx,n=Object(w.a)(e,D);return Object(u.jsx)(i.a,Object(m.a)({sx:Object(m.a)({pt:1,pb:1,mt:1,mb:1,width:800},t)},n))}var R,q=function(e){var t=Object(W.a)(g.b).selectedLocation;return Object(u.jsxs)(i.a,{sx:{display:"flex",mb:2,justifyContent:"flex-start"},children:[Object(u.jsx)(A,{children:Object(u.jsx)(s.a,{onClick:function(){return e.process(t)},color:"create",fullWidth:!0,startIcon:Object(u.jsx)(S.a,{}),children:"save changes"})}),Object(u.jsx)(A,{})]})},E=n(385),L=n(382),P=Object(a.forwardRef)((function(e,t){L.DateTime.now().toISODate();var n=Object(a.useRef)(),r=Object(a.useState)(""),o=Object(f.a)(r,2),i=o[0],c=o[1],d=e.lastRowDate,l=e.currentPeriod;return Object(a.useEffect)((function(){c(d?d.data.date:l.weekEndingDate),n.current.focus(),n.current.select()}),[d,l]),Object(a.useImperativeHandle)(t,(function(){return{getValue:function(){return i}}})),Object(u.jsx)("input",{type:"date",className:"ag-input-field-input ag-text-field-input",ref:n,onChange:function(e){c(e.target.value.toLocaleString())},value:i})})),B=Object(a.forwardRef)((function(e,t){var n=Object(a.useRef)(),r=e.data.qtyOs,o=Object(a.useState)(r),i=Object(f.a)(o,2),c=i[0],d=i[1],l=Object(a.useCallback)((function(e){Number(e.target.value)>Number(r)?(alert("Qty Done Cannot Exceed Qty Outstanding"),d(c)):d(e.target.value)}),[c,r]),s=Object(a.useCallback)((function(e){Object(C.i)(e.nativeEvent)||e.preventDefault()}),[]);return Object(a.useImperativeHandle)(t,(function(){return{getValue:function(){return c},afterGuiAttached:function(){n.current.focus(),n.current.select()}}})),Object(u.jsx)("input",{className:"ag-input-field-input ag-text-field-input",ref:n,onChange:l,value:c,onKeyPress:s})})),G=n(1251),F=n(763),M=Object(a.forwardRef)((function(e,t){var n=Object(a.useState)(""),r=Object(f.a)(n,2),i=r[0],c=r[1],d=Object(a.useState)(!1),l=Object(f.a)(d,2),s=l[0],b=l[1],j=Object(a.useRef)();function p(e){"ArrowDown"===e.key&&b(!0)}o.a.useEffect((function(){return document.addEventListener("keydown",p),function(){document.removeEventListener("keydown",p)}}));return Object(a.useImperativeHandle)(t,(function(){return{getValue:function(){return i.displayName},afterGuiAttached:function(){if(e.lastRowSupervisor){var t=e.options.filter((function(t){return t.displayName===e.lastRowSupervisor.data.supervisor}))[0];c(t)}else c(e.options[0])}}})),Object(u.jsx)(G.a,{value:i,onChange:function(e,t){c(e.target.value)},ref:j,fullWidth:!0,open:s,style:{height:30},displayEmpty:!0,renderValue:function(){return i.displayName},onClose:function(){b(!1)},onOpen:function(){b(!0)},children:e.options.map((function(e){return Object(u.jsx)(F.a,{value:e,children:e.displayName},e.id)}))})})),$=function(e){var t=e.data,n=e.supervisors,r=e.currentPeriod,a={columnDefs:o.a.useMemo((function(){return[{headerName:"Item Ref",field:"itemNumber"},{headerName:"Item Type",field:"typeShort"},{headerName:"Activity Code",field:"activityCode"},{headerName:"Activity Description",field:"activityDescription"},{headerName:"Qty Ordered",field:"qtyOrdered",type:"numericColumn",valueFormatter:C.e},{headerName:"Qty Os",field:"qtyOs",valueFormatter:C.e,type:"numericColumn"},{headerName:"Value Os",field:"valueOs",valueFormatter:C.e,type:"numericColumn"},{headerName:"Qty Done",colId:"qtyDone",field:"qtyDone",type:"numericColumn",editable:!0,cellEditorFramework:B,valueFormatter:C.e},{headerName:"Supervisor",colId:"supervisor",field:"supervisor",editable:!0,cellEditorFramework:M,width:150,cellEditorParams:function(e){return{options:n,defaults:t,lastRowSupervisor:e.api.getRowNode(e.rowIndex-1)}}},{headerName:"Date Complete",field:"date",editable:!0,cellEditorFramework:P,cellEditorParams:function(e){return{lastRowDate:e.api.getRowNode(e.rowIndex-1),currentPeriod:r}},valueFormatter:function(e){return e.value&&e.value.split("-").reverse().join("/")}},{headerName:"Value Complete",valueGetter:function(e){return e.data.qtyDone*e.data.valueOs/e.data.qtyOs},valueFormatter:C.e,type:"numericColumn"}]}),[r,t,n]),defaultColDef:{filter:!1,sortable:!1,resizable:!0},pagination:!1,singleClickEdit:!0};return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"ag-theme-custom-react",style:{height:850},children:Object(u.jsx)(E.AgGridReact,{gridOptions:a,rowData:t,onFirstDataRendered:function(e){e.api.startEditingCell({rowIndex:0,colKey:"qtyDone"}),e.api.sizeColumnsToFit()},onGridSizeChanged:function(e){return e.api.sizeColumnsToFit()},reactUi:!1})})})},z=function(){var e=Object(c.f)(),t=o.a.useRef(Object(y.a)()),n=Object(g.b)().selectedLocation,r=Object(g.b)().selectedOrder,a=o.a.useState([]),i=Object(f.a)(a,2),d=i[0],l=i[1],s=Object(h.b)(k.a,{variables:{id:Number(n.id)},onCompleted:function(e){return l(e.orderdetailWithValues.nodes.map((function(e){return Object(m.a)(Object(m.a)({},e),{},{qtyDone:0})})))}}).loading,b=Object(h.b)(N.a),j=b.data,x=b.loading,V=Object(h.b)(N.b,{fetchPolicy:"cache-and-network"}),w=V.data,W=V.loading,T=Object(O.a)(I,{refetchQueries:[{query:k.d,variables:{id:n.id}}],awaitRefetchQueries:!0,onCompleted:function(){e.push({pathname:"/projects/admin/locations",state:r.id})}}),S=Object(f.a)(T,1)[0];return s||x||W?Object(u.jsx)(p.a,{}):Object(u.jsxs)("div",{children:[Object(u.jsx)(q,{process:function(){var e=d.filter((function(e){return e.qtyDone>0})),n=e.map((function(e){var n=e.date,r=e.id,a=e.qtyDone,o=e.supervisor,i=e.sitelocationId,c=e.orderheaderId,d=e.unitPayableTotal;return{supervisorId:j.supervisors.nodes.filter((function(e){return e.displayName===o})).map((function(e){return e.id}))[0],periodNumberId:w.periods.nodes[0].id,dateComplete:n,qtyComplete:a,orderdetailId:r,batchId:t.current,orderheaderId:c,sitelocationId:i,valueComplete:a*Number(d)}}));if(n.map((function(e){return-1!==Object.values(e).findIndex((function(e){return null==e||""===e}))})).includes(!0))Object(v.confirmAlert)({customUI:function(e){var t=e.onClose;return Object(u.jsxs)("div",{className:"custom-ui",children:[Object(u.jsx)("h1",{children:"Submission Contains Errors!"}),Object(u.jsx)("p",{children:"Please Correct Them And Try Again"}),Object(u.jsx)("button",{onClick:function(){t()},children:"Close"})]})}});else{var a=Object(C.g)(e.map((function(e){return e.valueOs/e.qtyOs*e.qtyDone})).reduce((function(e,t){return e+t}),0));Object(v.confirmAlert)({customUI:function(e){var t=e.onClose;return Object(u.jsxs)("div",{className:"custom-ui",children:[Object(u.jsx)("h1",{children:"Confirm Submission"}),Object(u.jsx)("p",{children:"Submission Value Is: ".concat(a)}),Object(u.jsx)("button",{onClick:function(){return S({variables:{input:{worksheets:n},orderId:r.id}}).then((function(){return t()}))},children:"SUBMIT"}),Object(u.jsx)("button",{onClick:function(){t()},children:"CANCEL"})]})}})}}}),Object(u.jsx)($,{data:d,supervisors:j.supervisors.nodes,currentPeriod:w.periods.nodes[0]})]})},H=Object(V.d)(R||(R=Object(x.a)(["\n    query GetOrderWorksheets($id: Int!) {\n        worksheetWithValues(filter: { orderheaderId: { equalTo: $id } }) {\n            nodes {\n                activityCode\n                activityDescription\n                applied\n                dateComplete\n                id\n                itemNumber\n                locationReference\n                worksheetReference\n                week\n                year\n                periodNumber\n                qtyComplete\n                supervisorName\n                valueComplete\n                batchId\n                applicationNumber\n            }\n        }\n    }\n"]))),U=[{headerName:"Worksheet Ref",field:"worksheetReference",cellStyle:{"text-align":"left"}},{headerName:"Batch Ref",field:"batchId",cellStyle:{"text-align":"left"}},{headerName:"Location",field:"locationReference",cellStyle:{"text-align":"left"}},{headerName:"Item Number",field:"itemNumber",cellStyle:{"text-align":"left"},sort:"asc"},{headerName:"Activity Code",field:"activityCode",cellStyle:{"text-align":"left"}},{headerName:"Activity Description",field:"activityDescription",cellStyle:{"text-align":"left"}},{headerName:"Work Done Date",field:"dateComplete",type:"dateColumn",valueFormatter:C.c,cellStyle:{"text-align":"left"}},{headerName:"Year",field:"year",cellStyle:{"text-align":"left"}},{headerName:"Week Number",field:"week",cellStyle:{"text-align":"left"}},{headerName:"Supervisor Name",field:"supervisorName",cellStyle:{"text-align":"left"}},{headerName:"Qty Complete",field:"qtyComplete",type:"numericColumn",valueFormatter:C.e},{headerName:"Value Complete",field:"valueComplete",type:"numericColumn",valueFormatter:C.e},{headerName:"Applied",field:"applied",type:"rightAligned",valueFormatter:function(e){return e.value?"Yes":"No"}},{headerName:"App Number",field:"applicationNumber",type:"numericColumn"},{headerName:"Reporting Period",field:"periodNumber",type:"numericColumn"}],_={filter:!0,sortable:!0,resizable:!0,flex:!0},Q={dateColumn:{filter:"agDateColumnFilter"}},Y=function(){var e=Object(W.a)(g.b).selectedOrder,t=Object(h.b)(H,{variables:{id:e.id}}),n=t.loading,r=t.data,a={columnDefs:U,defaultColDef:_,columnTypes:Q,pagination:!0,paginationPageSize:30,domLayout:"autoHeight",rowSelection:"single",animateRows:!0,rowData:null===r||void 0===r?void 0:r.worksheetWithValues.nodes,onGridReady:function(e){e.api.sizeColumnsToFit()},onGridSizeChanged:function(e){return e.api.sizeColumnsToFit()}};return n?Object(u.jsx)(p.a,{}):Object(u.jsx)("div",{style:{marginLeft:5,marginRight:5,marginTop:25},children:Object(u.jsx)(E.AgGridReact,{gridOptions:a,reactUi:!1,className:"ag-theme-custom-react"})})},J=Object(a.lazy)((function(){return Promise.all([n.e(1),n.e(3),n.e(5),n.e(18),n.e(24)]).then(n.bind(null,1254))})),K=Object(a.lazy)((function(){return Promise.all([n.e(1),n.e(3),n.e(4),n.e(5),n.e(19)]).then(n.bind(null,1250))})),X=Object(a.lazy)((function(){return Promise.all([n.e(32),n.e(29)]).then(n.bind(null,1240))})),Z=Object(a.lazy)((function(){return Promise.all([n.e(3),n.e(5),n.e(21),n.e(22)]).then(n.bind(null,1256))}));t.default=function(){return Object(u.jsxs)(i.a,{m:2,children:[Object(u.jsx)("br",{}),Object(u.jsx)(b,{}),Object(u.jsx)(j.b,{}),Object(u.jsx)("hr",{}),Object(u.jsx)(a.Suspense,{fallback:Object(u.jsx)(p.a,{}),children:Object(u.jsxs)(c.c,{children:[Object(u.jsx)(c.a,{path:"/projects/admin/locations",exact:!0,children:Object(u.jsx)(J,{})}),Object(u.jsx)(c.a,{path:"/projects/admin/progress/",exact:!0,children:Object(u.jsx)(z,{})}),Object(u.jsx)(c.a,{path:"/projects/admin/items",exact:!0,children:Object(u.jsx)(K,{})}),Object(u.jsx)(c.a,{path:"/projects/admin/images",exact:!0,children:Object(u.jsx)(X,{})}),Object(u.jsx)(c.a,{path:"/projects/admin/documents",exact:!0,children:Object(u.jsx)(Z,{})}),Object(u.jsx)(c.a,{path:"/projects/admin/worksheets",exact:!0,children:Object(u.jsx)(Y,{})})]})})]})}},326:function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return b})),n.d(t,"c",(function(){return j})),n.d(t,"b",(function(){return p})),n.d(t,"j",(function(){return m})),n.d(t,"k",(function(){return f})),n.d(t,"i",(function(){return h})),n.d(t,"h",(function(){return O})),n.d(t,"a",(function(){return y})),n.d(t,"l",(function(){return g}));var r=n(11),a=n(16),o=n(31),i=n(382),c=n(419),d=n.n(c),l=function(e){return d()(e.value).format("0,0")},s=function(e){return d()(e.value).format("0,0.00")},u=function(e){return d()(e).format("0,0")},b=function(e){return d()(e).format("0,0.00")},j=function(e){return i.DateTime.fromISO(e.value).toFormat("dd/LL/y")},p=function(e){return i.DateTime.fromISO(e).toFormat("dd/LL/y")},m=function(e,t){return[].concat(Object(o.a)(e),Object(o.a)(t)).filter((function(n){return!e.includes(n)&&t.includes(n)}))},f=function(e,t){return[].concat(Object(o.a)(e),Object(o.a)(t)).filter((function(n){return e.includes(n)&&!t.includes(n)}))},h=function(e){return"1"===e.key||"2"===e.key||"3"===e.key||"4"===e.key||"5"===e.key||"6"===e.key||"7"===e.key||"8"===e.key||"9"===e.key||"0"===e.key||"."===e.key},O=function(e){return e.split(" ").map((function(e){return e[0]})).join("")},v=function e(t){return function(n){return Object.fromEntries(Object.entries(n).map((function(n){var r=Object(a.a)(n,2),o=r[0],i=r[1];return[t(o),Array.isArray(i)?i.map(e(t)):"object"==typeof i?e(t)(i):i]})))}};v((function(e){return e.replace(/_(.)/g,(function(e,t){return t.toUpperCase()}))})),v((function(e){return e.replace(/_(.)/g,(function(e,t){return t.toLowerCase()}))}));function y(e,t){return 0===t||isNaN(t)?null:e/t}function g(e,t){var n=Object.keys(e).map((function(n){var a=t[n]||n;return Object(r.a)({},a,e[n])}));return Object.assign.apply(Object,[{}].concat(Object(o.a)(n)))}},491:function(e,t,n){"use strict";var r=n(30);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(32)),o=n(1),i=(0,a.default)((0,o.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.default=i},505:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return v})),n.d(t,"f",(function(){return y})),n.d(t,"g",(function(){return g})),n.d(t,"h",(function(){return C})),n.d(t,"e",(function(){return x})),n.d(t,"d",(function(){return V}));var r,a,o,i,c,d,l,s,u,b,j,p,m=n(49),f=n(67),h=Object(f.d)(r||(r=Object(m.a)(["\n    query GetAllSupervisors {\n        supervisors {\n            nodes {\n                displayName\n                id\n            }\n        }\n    }\n"]))),O=Object(f.d)(a||(a=Object(m.a)(["\n    query GetCurrentPeriod {\n        periods(condition: { current: true }) {\n            nodes {\n                current\n                id\n                periodNumber\n                week\n                weekCommencingDate\n                weekEndingDate\n                year\n            }\n        }\n    }\n"]))),v=(Object(f.d)(o||(o=Object(m.a)(["\n    query getAreas {\n        areas {\n            nodes {\n                id\n                description\n            }\n        }\n    }\n"]))),Object(f.d)(i||(i=Object(m.a)(["\n    query getWorktypes {\n        worktypes {\n            nodes {\n                id\n                description\n            }\n        }\n    }\n"]))),Object(f.d)(c||(c=Object(m.a)(["\n    query getOrderheaderStatus {\n        orderheaderStatuses {\n            nodes {\n                id\n                statusDescription\n            }\n        }\n    }\n"]))),Object(f.d)(d||(d=Object(m.a)(["\n    query GetOrderLocations($id: Int!) {\n        sitelocationWithValues(filter: { orderheaderId: { equalTo: $id } }) {\n            nodes {\n                complete\n                id\n                itemCount\n                itemsComplete\n                orderValue\n                orderheaderId\n                reference\n                valueApplied\n                valueComplete\n                worksheetReference\n                imageCount\n            }\n            totalCount\n        }\n    }\n"]))),Object(f.d)(l||(l=Object(m.a)(["\n    query GetItemTypes {\n        itemTypes {\n            nodes {\n                id\n                typeLong\n                typeShort\n            }\n        }\n    }\n"])))),y=Object(f.d)(s||(s=Object(m.a)(["\n    query GetRatesetHeaders {\n        ratesetHeaders {\n            nodes {\n                id\n                description\n            }\n        }\n    }\n"]))),g=Object(f.d)(u||(u=Object(m.a)(["\n    query GetRatesetPrices($id: Int!) {\n        pricesWithUplifts(\n            condition: { ratesetHeaderId: $id }\n            orderBy: ACTIVITY_CODE_ASC\n        ) {\n            nodes {\n                activityCode\n                activityDescription\n                id\n                ratesetHeaderId\n            }\n            totalCount\n        }\n    }\n"]))),C=Object(f.d)(b||(b=Object(m.a)(["\n    query GetSupervisorValuesForSingleOrderheader($id: Int!) {\n        orderheader(id: $id) {\n            supervisorsByWorksheetOrderheaderIdAndSupervisorId {\n                nodes {\n                    displayName\n                    fullName\n                    worksheets(condition: { orderheaderId: $id }) {\n                        groupedAggregates(groupBy: SUPERVISOR_ID) {\n                            sum {\n                                valueComplete\n                            }\n                        }\n                    }\n                }\n            }\n            projectTitle\n        }\n    }\n"]))),x=Object(f.d)(j||(j=Object(m.a)(['\n    query GetPeriodBasics {\n        periodWithValues(filter: { worksValueCurrent: { greaterThan: "0" } }) {\n            nodes {\n                id\n                periodNumber\n            }\n        }\n    }\n']))),V=Object(f.d)(p||(p=Object(m.a)(["\n    query GetPeriodsWithValues($id: Int!) {\n        period(id: $id) {\n            periodValuesByAreas {\n                nodes {\n                    areaDescription\n                    areaId\n                    periodId\n                    periodNumber\n                    thisPeriodValue\n                    itemCount\n                    locationCount\n                    orderCount\n                    cumulativeValue\n                    prevCumulativeValue\n                }\n            }\n            worksValue\n            periodValuesByOrderheaders(orderBy: AREA_ID_ASC) {\n                nodes {\n                    areaDescription\n                    areaId\n                    orderId\n                    orderNumber\n                    projectTitle\n                    periodNumber\n                    periodId\n                    valueComplete\n                    worktypeDescription\n                    worktypeId\n                    orderCount\n                    itemCount\n                    locationCount\n                }\n            }\n            periodValuesBySupervisors(orderBy: VALUE_COMPLETE_DESC) {\n                nodes {\n                    periodId\n                    periodNumber\n                    supervisorId\n                    supervisorName\n                    displayName\n                    valueComplete\n                    itemCount\n                    locationCount\n                    orderCount\n                }\n            }\n            periodValuesByActivities {\n                nodes {\n                    activityCode\n                    activityDescription\n                    periodId\n                    periodNumber\n                    valueComplete\n                }\n            }\n            periodWithValueById {\n                closed\n                current\n                id\n                periodNumber\n                week\n                weekCommencingDate\n                weekEndingDate\n                worksValueClosed\n                worksValueCurrent\n                year\n                orderCount\n                itemCount\n                locationCount\n                areaCount\n            }\n        }\n    }\n"])))},703:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return b}));var r,a,o,i,c=n(49),d=n(67),l=Object(d.d)(r||(r=Object(c.a)(["\n    query GetIncompleteLocationItems($id: Int!) {\n        orderdetailWithValues(\n            filter: { complete: { equalTo: false }, sitelocationId: { equalTo: $id } }\n        ) {\n            nodes {\n                activityCode\n                activityDescription\n                itemNumber\n                typeShort\n                valueOs\n                qtyOs\n                qtyOrdered\n                id\n                orderheaderId\n                unitPayableTotal\n                sitelocationId\n            }\n        }\n    }\n"]))),s=Object(d.d)(a||(a=Object(c.a)(["\n    query GetSingleLocation($id: Int!) {\n        sitelocationWithValueById(id: $id) {\n            complete\n            id\n            itemCount\n            itemsComplete\n            orderValue\n            orderheaderId\n            reference\n            valueApplied\n            valueComplete\n            worksheetReference\n            imageCount\n        }\n    }\n"]))),u=Object(d.d)(o||(o=Object(c.a)(["\n    query GetOrderLocations($id: Int!) {\n        sitelocationWithValues(filter: { orderheaderId: { equalTo: $id } }) {\n            nodes {\n                complete\n                id\n                itemCount\n                itemsComplete\n                orderValue\n                orderheaderId\n                reference\n                valueApplied\n                valueComplete\n                worksheetReference\n                imageCount\n            }\n            totalCount\n        }\n    }\n"]))),b=Object(d.d)(i||(i=Object(c.a)(['\n    query GetOrderLocationsWithImages($id: Int!) {\n        sitelocationWithValues(\n            condition: { orderheaderId: $id }\n            filter: { imageCount: { greaterThan: "0" } }\n        ) {\n            nodes {\n                id\n                imageCount\n                reference\n                worksheetReference\n                orderValue\n                valueComplete\n                valueApplied\n                sitelocationById {\n                    imageDetails {\n                        nodes {\n                            sitelocationId\n                            dateTakenManual\n                            exifDate\n                            exifGps\n                            headerImageFile\n                            id\n                            longName\n                            shortName\n                        }\n                        groupedAggregates(groupBy: SHORT_NAME) {\n                            keys\n                            distinctCount {\n                                id\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n'])))},763:function(e,t,n){"use strict";var r=n(11),a=n(6),o=n(2),i=n(0),c=n(8),d=n(128),l=n(237),s=n(9),u=n(13),b=n(41),j=n(300),p=n(86),m=n(33),f=n(174),h=n(175),O=n(106),v=n(107),y=n(129);function g(e){return Object(v.a)("MuiMenuItem",e)}var C=Object(y.a)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),x=n(1),V=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex"],I=Object(s.a)(j.a,{shouldForwardProp:function(e){return Object(s.b)(e)||"classes"===e},name:"MuiMenuItem",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})((function(e){var t,n=e.theme,a=e.ownerState;return Object(o.a)({},n.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!a.disableGutters&&{paddingLeft:16,paddingRight:16},a.divider&&{borderBottom:"1px solid ".concat(n.palette.divider),backgroundClip:"padding-box"},(t={"&:hover":{textDecoration:"none",backgroundColor:n.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},Object(r.a)(t,"&.".concat(C.selected),Object(r.a)({backgroundColor:Object(l.a)(n.palette.primary.main,n.palette.action.selectedOpacity)},"&.".concat(C.focusVisible),{backgroundColor:Object(l.a)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)})),Object(r.a)(t,"&.".concat(C.selected,":hover"),{backgroundColor:Object(l.a)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:Object(l.a)(n.palette.primary.main,n.palette.action.selectedOpacity)}}),Object(r.a)(t,"&.".concat(C.focusVisible),{backgroundColor:n.palette.action.focus}),Object(r.a)(t,"&.".concat(C.disabled),{opacity:n.palette.action.disabledOpacity}),Object(r.a)(t,"& + .".concat(f.a.root),{marginTop:n.spacing(1),marginBottom:n.spacing(1)}),Object(r.a)(t,"& + .".concat(f.a.inset),{marginLeft:52}),Object(r.a)(t,"& .".concat(O.a.root),{marginTop:0,marginBottom:0}),Object(r.a)(t,"& .".concat(O.a.inset),{paddingLeft:36}),Object(r.a)(t,"& .".concat(h.a.root),{minWidth:36}),t),!a.dense&&Object(r.a)({},n.breakpoints.up("sm"),{minHeight:"auto"}),a.dense&&Object(o.a)({minHeight:32,paddingTop:4,paddingBottom:4},n.typography.body2,Object(r.a)({},"& .".concat(h.a.root," svg"),{fontSize:"1.25rem"})))})),k=i.forwardRef((function(e,t){var n=Object(u.a)({props:e,name:"MuiMenuItem"}),r=n.autoFocus,l=void 0!==r&&r,s=n.component,j=void 0===s?"li":s,f=n.dense,h=void 0!==f&&f,O=n.divider,v=void 0!==O&&O,y=n.disableGutters,C=void 0!==y&&y,k=n.focusVisibleClassName,N=n.role,w=void 0===N?"menuitem":N,W=n.tabIndex,T=Object(a.a)(n,V),S=i.useContext(b.a),D={dense:h||S.dense||!1,disableGutters:C},A=i.useRef(null);Object(p.a)((function(){l&&A.current&&A.current.focus()}),[l]);var R,q=Object(o.a)({},n,{dense:D.dense,divider:v,disableGutters:C}),E=function(e){var t=e.disabled,n=e.dense,r=e.divider,a=e.disableGutters,i=e.selected,c=e.classes,l={root:["root",n&&"dense",t&&"disabled",!a&&"gutters",r&&"divider",i&&"selected"]},s=Object(d.a)(l,g,c);return Object(o.a)({},c,s)}(n),L=Object(m.a)(A,t);return n.disabled||(R=void 0!==W?W:-1),Object(x.jsx)(b.a.Provider,{value:D,children:Object(x.jsx)(I,Object(o.a)({ref:L,role:w,tabIndex:R,component:j,focusVisibleClassName:Object(c.a)(E.focusVisible,k)},T,{ownerState:q,classes:E}))})}));t.a=k},794:function(e,t,n){"use strict";var r=n(30);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(32)),o=n(1),i=(0,a.default)((0,o.jsx)("path",{d:"M5 20h14v-2H5v2zM19 9h-4V3H9v6H5l7 7 7-7z"}),"Download");t.default=i},795:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r,a=n(24),o=n(338),i=n(49),c=(n(0),n(67)),d=n(839),l=n(717),s=n(112),u=n(306),b=n(310),j=n(109),p=n(326),m=n(1),f=["sx"],h=Object(c.d)(r||(r=Object(i.a)(["\n    query GetSingleOrderheader($id: Int!) {\n        orderheaderWithValue(id: $id) {\n            area\n            averageItemValue\n            averageLocationValue\n            id\n            itemCount\n            itemCountBoq\n            itemCountVarn\n            itemsComplete\n            itemsCompleteBoq\n            itemsCompleteVarn\n            locationCount\n            locationsComplete\n            statusDescription\n            orderNumber\n            orderValueLabour\n            orderValueMaterials\n            orderValueOther\n            orderValueTotal\n            orderValueTotalApplied\n            orderValueTotalBoq\n            orderValueTotalComplete\n            orderValueTotalVarn\n            projectTitle\n            workType\n            issuedDate\n            documentCount\n            imageCount\n        }\n    }\n"])));function O(e){e.sx;var t=Object(o.a)(e,f);return Object(m.jsx)(u.a,Object(a.a)({border:1,flexGrow:1,bgcolor:"#b4cce4",m:.5,p:.5,textAlign:"center",borderRadius:3},t))}t.b=function(){var e=Object(d.a)(s.b).selectedOrder,t=Object(l.b)(h,{variables:{id:e.id}}),n=t.data;return t.loading?Object(m.jsx)(b.a,{}):Object(m.jsxs)(u.a,{display:"flex",flexWrap:"wrap",justifyContent:"space-between",ml:.5,mr:.5,children:[Object(m.jsxs)(O,{children:[Object(m.jsx)(j.a,{fontWeight:"bold",children:"PROJECT"}),Object(m.jsx)(j.a,{children:n.orderheaderWithValue.projectTitle.substring(0,25)+"..."})]}),Object(m.jsxs)(O,{children:[Object(m.jsx)(j.a,{fontWeight:"bold",children:"ORDER NO"}),Object(m.jsx)(j.a,{children:n.orderheaderWithValue.orderNumber})]}),Object(m.jsxs)(O,{children:[Object(m.jsx)(j.a,{fontWeight:"bold",children:"STATUS"}),Object(m.jsxs)(j.a,{children:[n.orderheaderWithValue.statusDescription," "]})]}),Object(m.jsxs)(O,{children:[Object(m.jsx)(j.a,{fontWeight:"bold",children:"AREA"}),Object(m.jsx)(j.a,{children:n.orderheaderWithValue.area})]}),Object(m.jsxs)(O,{children:[Object(m.jsx)(j.a,{fontWeight:"bold",children:"LABOUR"}),Object(m.jsx)(j.a,{children:Object(p.f)(n.orderheaderWithValue.orderValueLabour)})]}),Object(m.jsxs)(O,{children:[Object(m.jsx)(j.a,{fontWeight:"bold",children:"MATERIALS"}),Object(m.jsx)(j.a,{children:Object(p.f)(n.orderheaderWithValue.orderValueMaterials)})]}),Object(m.jsxs)(O,{children:[Object(m.jsx)(j.a,{fontWeight:"bold",children:"OTHER"}),Object(m.jsx)(j.a,{children:Object(p.f)(n.orderheaderWithValue.orderValueOther)})]}),Object(m.jsxs)(O,{children:[Object(m.jsx)(j.a,{fontWeight:"bold",children:"TOTAL"}),Object(m.jsx)(j.a,{children:Object(p.f)(n.orderheaderWithValue.orderValueTotal)})]}),Object(m.jsxs)(O,{children:[Object(m.jsx)(j.a,{fontWeight:"bold",children:"COMPLETE"}),Object(m.jsx)(j.a,{children:Object(p.f)(n.orderheaderWithValue.orderValueTotalComplete)})]}),Object(m.jsxs)(O,{children:[Object(m.jsx)(j.a,{fontWeight:"bold",children:"TO DO"}),Object(m.jsx)(j.a,{children:Object(p.f)(n.orderheaderWithValue.orderValueTotal-n.orderheaderWithValue.orderValueTotalComplete)})]}),Object(m.jsxs)(O,{children:[Object(m.jsx)(j.a,{fontWeight:"bold",children:"APPLIED"}),Object(m.jsx)(j.a,{children:Object(p.f)(n.orderheaderWithValue.orderValueTotalApplied)})]}),Object(m.jsxs)(O,{children:[Object(m.jsx)(j.a,{fontWeight:"bold",children:"TO APPLY"}),Object(m.jsx)(j.a,{children:Object(p.f)(n.orderheaderWithValue.orderValueTotalComplete-n.orderheaderWithValue.orderValueTotalApplied)})]}),Object(m.jsxs)(O,{children:[Object(m.jsx)(j.a,{children:"BOQ VAL"}),Object(m.jsx)(j.a,{children:Object(p.f)(n.orderheaderWithValue.orderValueTotalBoq)})]}),Object(m.jsxs)(O,{children:[Object(m.jsx)(j.a,{fontWeight:"bold",children:"VARN VAL"}),Object(m.jsx)(j.a,{children:Object(p.f)(n.orderheaderWithValue.orderValueTotalVarn)})]}),Object(m.jsxs)(O,{children:[Object(m.jsx)(j.a,{fontWeight:"bold",children:"LOCATIONS"}),Object(m.jsx)(j.a,{children:Object(p.f)(n.orderheaderWithValue.locationCount)})]}),Object(m.jsxs)(O,{children:[Object(m.jsx)(j.a,{fontWeight:"bold",children:"COMPLETE"}),Object(m.jsx)(j.a,{children:Object(p.f)(n.orderheaderWithValue.locationsComplete)})]}),Object(m.jsxs)(O,{children:[Object(m.jsx)(j.a,{fontWeight:"bold",children:"ITEMS"}),Object(m.jsx)(j.a,{children:Object(p.f)(n.orderheaderWithValue.itemCount)})]}),Object(m.jsxs)(O,{children:[Object(m.jsx)(j.a,{fontWeight:"bold",children:"COMPLETE"}),Object(m.jsx)(j.a,{children:Object(p.f)(n.orderheaderWithValue.itemsComplete)})]}),Object(m.jsxs)(O,{children:[Object(m.jsx)(j.a,{fontWeight:"bold",children:"DOCS"}),Object(m.jsx)(j.a,{children:Object(p.f)(n.orderheaderWithValue.documentCount)})]}),Object(m.jsxs)(O,{children:[Object(m.jsx)(j.a,{fontWeight:"bold",children:"IMAGES"}),Object(m.jsx)(j.a,{children:Object(p.f)(n.orderheaderWithValue.imageCount)})]})]})}},830:function(e,t,n){"use strict";var r,a=new Uint8Array(16);function o(){if(!r&&!(r="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(a)}var i=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var c=function(e){return"string"===typeof e&&i.test(e)},d=[],l=0;l<256;++l)d.push((l+256).toString(16).substr(1));var s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(d[e[t+0]]+d[e[t+1]]+d[e[t+2]]+d[e[t+3]]+"-"+d[e[t+4]]+d[e[t+5]]+"-"+d[e[t+6]]+d[e[t+7]]+"-"+d[e[t+8]]+d[e[t+9]]+"-"+d[e[t+10]]+d[e[t+11]]+d[e[t+12]]+d[e[t+13]]+d[e[t+14]]+d[e[t+15]]).toLowerCase();if(!c(n))throw TypeError("Stringified UUID is invalid");return n};t.a=function(e,t,n){var r=(e=e||{}).random||(e.rng||o)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var a=0;a<16;++a)t[n+a]=r[a];return t}return s(r)}}}]);
//# sourceMappingURL=23.61a34765.chunk.js.map